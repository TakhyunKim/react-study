# Funnel-ui

## 구현 시나리오

1. 페이지는 `유저 정보 작성`, `펫 정보 입력`, `가입 완료` 를 구현합니다.
2. 각 페이지는 이전, 다음과 같이 이동이 가능합니다.
3. 이전 페이지로 이동할 경우, 해당 페이지의 입력 정보는 그대로 표기되어야합니다.

## 기술 스택

- React
- React-router-dom
- jotai
- MUI
- Toss use-funnel

## 리마인드 혹은 배웠던 점

### 코드 응집도의 중요성

평소 제가 작성한 방식의 legacy 디렉토리 내에 작성한 코드의 경우,<br />
확실히 코드 파악이 어렵다는 생각이 들었습니다.

회사 프로젝트였다면, 현재 작성한 코드 외의 수많은 코드가 존재할텐데<br />
수많은 코드에서 `회원가입에 대한 워크 플로우를 파악`하는건 더욱 어려울 것으로 에상됩니다.

원인을 생각해보면, 크게 두 가지로 생각됩니다.

> 1. 페에지 동작 방식에 대한 코드가 산재되어 있음
> 2. 상태를 업데이트 하는 곳과 사용하는 곳이 다름

useFunnel 관련된 영상에서도 말씀해주신 부분이지만, 실제로 코드를 작성하고 보니<br />
위 원인이 보다 명확하게 체감되었습니다.

만약 위 회원가입이라는 기획이 업데이트 되어 수정하게 된다면, 쉽지 않을 것 같아보입니다.<br />
만약 수정하게 된다면 아래 방식으로 수정하게 될 것 같습니다.

> 1. 회원가입 관련된 기획(워크 플로우) 을 파악
> 2. 실제 코드에서 어떻게 구현되어 있는지 파악
> 3. 업데이트된 기획 반영

여기서 2번 과정을 하게 될 때 확인해야할 코드 범위가 생각보다 많습니다.<br />

> 1. 전역 상태
> 2. 회원 가입 관련 페이지 로직 체크 (어떤 순서로 동작하는지에 대한 코드 파악도 필요)

그리고 new 디렉토리 내부에 useFunnel hook 을 활용한 방식을 적용하니<br />
기존에 느낀 불편한 것들을 크게 해소해주었다 라고 생각하게 되었습니다.

`SignUp` 이라는 하나의 파일에서 다음과 같은 사항을 확인할 수 있다는 점이 컸습니다.

> 1. 회원 가입 동작 순서 (router 관리)
> 2. 회원 가입에 필요한 상태 관리

만약 코드 변경이 필요한 경우, `SignUp` 이라는 코드만 확인하면 된다는 점이<br />
유지 보수 하는데 있어 매우 용이한 구조라는 것을 바로 체감할 수 있었습니다.

## 후기

동일한 기획 사항을 녹여내는 코드라도 형태가 이렇게까지 다를 수 있음을 체감하게된 좋은 경험이였습니다.<br />
그리고 코드 응집도 개선을 통해, 유지보수 용이한 코드를 만들어가는 과정 또한 배울 수 있었습니다.

`이런 방식으로도 문제를 풀어나갈 수 있겠구나` 라는 생각을 한 것 또한 이번 공부의 핵심이라고 생각하고,<br />
지속 가능한 코드를 짜는 방식에 대해 더 많은 고민을 해보려합니다.

## 레퍼런스

- [toss useFunnel GitHub Repo](https://github.com/toss/use-funnel)
- [toss useFunnel Youtube](https://youtu.be/NwLWX2RNVcw?si=OD__5JsEwIGi-URE)
